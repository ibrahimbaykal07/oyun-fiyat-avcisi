name: Oyun Listesi Robotu

on:
  schedule:
    # Her gÃ¼n UTC saatiyle 04:00'te (TÃ¼rkiye saati ile 07:00) Ã§alÄ±ÅŸÄ±r
    - cron: '0 4 * * *'
  workflow_dispatch: # Manuel tetikleme butonu ekler

jobs:
  update-games:
    runs-on: ubuntu-latest
    
    steps:
      - name: Depoyu Ã‡ek (Checkout)
        uses: actions/checkout@v3

      - name: Python Kur
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      - name: Robotu Ã‡alÄ±ÅŸtÄ±r
        run: python update_bot.py

      - name: DeÄŸiÅŸiklikleri Kaydet ve GÃ¶nder (Commit & Push)
        run: |
          git config --global user.name 'OyunFiyatBotu'
          git config --global user.email 'bot@noreply.github.com'
          git add subscriptions.json
          git diff --quiet && git diff --staged --quiet || (git commit -m "ðŸ¤– Robot: Oyun listesi gÃ¼ncellendi" && git push)
